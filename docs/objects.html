<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Classes and Objects &mdash; PT3S 90.14.45.0.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Releases" href="releases.html" />
    <link rel="prev" title="Functions" href="functions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/pt3s_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Classes and Objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#m-object">m Object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dataframes">Dataframes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#v3-rohr">V3_ROHR</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v3-knot">V3_KNOT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v3-vbel">V3_VBEL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v3-agsn">V3_AGSN</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v3-rohrvec">V3_ROHRVEC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v3-agsnvec">V3_AGSNVEC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geodataframes">GeoDataframes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#graphs">Graphs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#g">G</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gsig">GSig</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dx-object">Dx object</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Dataframes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dflayr">dfLAYR</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mx-object">Mx object</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">For Developers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PT3S</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Classes and Objects</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/objects.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="classes-and-objects">
<h1>Classes and Objects<a class="headerlink" href="#classes-and-objects" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page is still Work in Progress.</p>
</div>
<p>Welcome to the Classes and Objects page! Here, we will delve into the differnt classes and objects and their relationship.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, not all Objects that exist in PT3S are documented. These will be added in the future.</p>
</div>
<section id="m-object">
<h2>m Object<a class="headerlink" href="#m-object" title="Permalink to this heading"></a></h2>
<p>The m object or dxWithMx object is a wrapper for Dx with attached Mx and the center piece in working with PT3S. It is created by <a class="reference internal" href="functions.html#readdxandmx-label"><span class="std std-ref">Read SIR 3S Model and Results</span></a></p>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx.__init__">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dx</strong> (<em>Dx.Dx</em><em>(</em><em>)</em>) – a Dx object</p></li>
<li><p><strong>mx</strong> (<em>Mx.Mx</em><em>(</em><em>)</em>) – a Mx object</p></li>
<li><p><strong>crs</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – (=coordinate reference system) Determines crs used in geopandas-Dfs (Possible value:’EPSG:25832’). If None, crs will be read from SIR 3S’ database file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<a class="reference internal image-reference" href="_images/combined_image.png"><img alt="classes_dxAndMxHelperFcts" class="align-center" src="_images/combined_image.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<iframe src="C:\\Users\\jablonski\\3S\\PT3S\\sphinx_docs\\uml\\interactive_diagram.html" width="100%" height="600"></iframe><section id="dataframes">
<h3>Dataframes<a class="headerlink" href="#dataframes" title="Permalink to this heading"></a></h3>
<p>From the object m, you can access a variety of dataframes created by PT3S based on the model and results</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">([</span><span class="n">attr</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">m</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">attr</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)])</span>
<span class="go">[&#39;V3_AGSN&#39;, &#39;V3_AGSNVEC&#39;, &#39;V3_FWVB&#39;, &#39;V3_KNOT&#39;, &#39;V3_ROHR&#39;, &#39;V3_ROHRVEC&#39;, &#39;V3_VBEL&#39;, &#39;V3_WBLZ&#39;, &#39;dfAGSN&#39;, &#39;dfWBLZ&#39;, &#39;gdf_FWVB&#39;, &#39;gdf_KNOT&#39;, &#39;gdf_ROHR&#39;]</span>
</pre></div>
</div>
<p>The following section presents these dataframes by functions that create these dataframes.</p>
<section id="v3-rohr">
<h4>V3_ROHR<a class="headerlink" href="#v3-rohr" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._V3_ROHR">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_V3_ROHR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_V3_ROHR</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._V3_ROHR" title="Permalink to this definition"></a></dt>
<dd><p>V3_ROHR is a m object Attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>V3_ROHR</strong> – V3sErg[‘V3_ROHR’] from dx.MxAdd(mx)</p>
</dd>
<dt class="field-even">Return df_V3_ROHR<span class="colon">:</span></dt>
<dd class="field-even"><p>df_V3_ROHR expanded</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ROHR is the German word for pipe (defined in the SIR 3S model).
In the returned V3_ROHR (one row per Edge) the following columns are added:</p>
<blockquote>
<div><ul class="simple">
<li><p>QMAVAbs: Absolute value of STAT ROHR~*~*~*~QMAV</p></li>
<li><p>VAVAbs: Absolute value of STAT ROHR~*~*~*~VAV</p></li>
<li><p>PHRAbs: Absolute value of STAT ROHR~*~*~*~PHR</p></li>
<li><p>JVAbs: Absolute value of STAT ROHR~*~*~*~JV</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">V3_ROHR</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                    pk                 fkDE  ...    PHRAbs     JVAbs</span>
<span class="go">0  5442010239090746007  5306805303452857793  ...  0.010414  0.285856</span>
<span class="go">1  4917786378639043296  5306805303452857793  ...  0.014643  0.255914</span>
<span class="go">2  4762482310382009633  5306805303452857793  ...  0.010845  0.264538</span>
<span class="go">3  4987229536643024523  5306805303452857793  ...  0.001804  0.264079</span>
<span class="go">4  5722206630503885118  5306805303452857793  ...  0.001979  0.264080</span>
</pre></div>
</div>
</section>
<section id="v3-knot">
<h4>V3_KNOT<a class="headerlink" href="#v3-knot" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._V3_KNOT">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_V3_KNOT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_V3_KNOT</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._V3_KNOT" title="Permalink to this definition"></a></dt>
<dd><p>V3_KNOT is a m object Attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df_V3_KNOT</strong> (<em>df</em>) – V3sErg[‘V3_KNOT’] from dx.MxAdd(mx)</p>
</dd>
<dt class="field-even">Return df_V3_VKNOT<span class="colon">:</span></dt>
<dd class="field-even"><p>df_V3_KNOT expanded</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>KNOT is the German abbreviation for Nodes (defined in the SIR 3S model).
In the returned V3_KNOT (one row per Edge) the following columns are added:</p>
<blockquote>
<div><ul class="simple">
<li><p>PH: STAT PH-result (i.e. bar)</p></li>
<li><p>dPH: STAT (PHSL-PHRL)-result if Node-Partner is defined (i.e. bar)</p></li>
<li><p>QM: STAT QM-result</p></li>
<li><p>srcvector: Source signature vector eg. [30, 0, 20, 50]</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">V3_KNOT</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                    pk                 fkDE  ...   QM       dPH</span>
<span class="go">3  5669301360686511351  5306805303452857793  ...  0.0  1.488921</span>
<span class="go">4  5397948523091900401  5306805303452857793  ...  0.0  1.467910</span>
<span class="go">5  5239335112004772156  5306805303452857793  ...  0.0  1.444288</span>
<span class="go">6  5298886695042021307  5306805303452857793  ...  0.0  1.434558</span>
<span class="go">7  4993257270457791438  5306805303452857793  ...  0.0  1.432193</span>
</pre></div>
</div>
</section>
<section id="v3-vbel">
<h4>V3_VBEL<a class="headerlink" href="#v3-vbel" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._V3_VBEL">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_V3_VBEL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_V3_VBEL</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._V3_VBEL" title="Permalink to this definition"></a></dt>
<dd><p>V3_VBEL is a m object Attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df_V3_VBEL</strong> (<em>df</em>) – V3sErg[‘V3_VBEL’] from dx.MxAdd(mx)</p>
</dd>
<dt class="field-even">Return df_V3_VBEL<span class="colon">:</span></dt>
<dd class="field-even"><p>df_V3_VBEL expanded</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>VBEL is the German abbreviation for Edges (defined in the SIR 3S model).
In the returned V3_VBEL (one row per Edge) the following columns are added:</p>
<blockquote>
<div><ul class="simple">
<li><p>PH_i,_k: STAT PH-result (i.e. bar)</p></li>
<li><p>H_i,_k: STAT H-result (i.e. barBzg)</p></li>
<li><p>mlc_i,_k: STAT H-result</p></li>
<li><p>RHO_i,_k: STAT RHO-result</p></li>
<li><p>T_i,_k: STAT T-result</p></li>
<li><p>QM: STAT QM-Result</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">V3_VBEL</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                                              pk  ...       mlc_k</span>
<span class="go">OBJTYPE OBJID                                     ...</span>
<span class="go">FWES    5194722485643852853  5194722485643852853  ...  577.049723</span>
<span class="go">        5393031835236689087  5393031835236689087  ...  593.013845</span>
<span class="go">FWVB    4611752310942477664  4611752310942477664  ...  574.339884</span>
<span class="go">        4612528660388965271  4612528660388965271  ...  551.357794</span>
<span class="go">        4612562908060328263  4612562908060328263  ...  574.527331</span>
</pre></div>
</div>
</section>
<section id="v3-agsn">
<h4>V3_AGSN<a class="headerlink" href="#v3-agsn" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._V3_AGSN">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_V3_AGSN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfAGSN</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._V3_AGSN" title="Permalink to this definition"></a></dt>
<dd><p>V3_AGSN is a m object Attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dfAGSN</strong> (<em>df</em>) – m.dfAGSN</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>V3_AGSN: dfAGSN expanded to V3_AGSN</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>df</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>AGSN is the German abbreviation for longitudinal sections / cuts (defined in the SIR 3S model). A section (a cut) can consist of several layers. In district heating systems for example the SL layer (supply line) and the RL (return line) layer.
The returned V3_AGSN (one row per Edge in (Section,Layer)) has the following columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>Pos: Position of Edge in (Section,Layer) starting with 0; Pos=-1: startNODE-row (same index as Pos=0 row)</p></li>
<li><p>pk: Section-pk</p></li>
<li><p>tk: Section-tk</p></li>
<li><p>LFDNR: Section-LFDNR (numeric)</p></li>
<li><p>NAME: Section-Name</p></li>
<li><p>XL: Layer:  0: everything; 1: SL (the stuff before BLn in SIR 3S BLOB); 2: RL (the stuff after BLn in SIR 3S BLOB)</p></li>
<li><p>compNr: Number of the connected Component in (Section,Layer) starting with 1</p></li>
<li><p>nextNODE: Name of the next Node in cut-direction reached by the Edge (startNODE-Name for Pos=-1)</p></li>
<li><p>OBJTYPE: Edge-Type</p></li>
<li><p>OBJID: Edge-ID</p></li>
<li><p>L (0 for Pos=-1)</p></li>
<li><p>DN</p></li>
<li><p>Am2</p></li>
<li><p>Vm3</p></li>
<li><p>NAME_CONT</p></li>
<li><p>NAME_i</p></li>
<li><p>NAME_k</p></li>
<li><p>ZKOR_n: nextNODEs ZKOR</p></li>
<li><p>BESCHREIBUNG_n: nextNODEs BESCHREIBUNG</p></li>
<li><p>KVR_n: nextNODEs KVR</p></li>
<li><p>LSum: cumulated L up to nextNODE</p></li>
<li><p>direction: XL=0,1: 1 if edge defined in cut-direction, otherwise -1; XL=2: 1 if edge defined in reverse cut-direction, otherwise -1</p></li>
<li><p>corresponding to the V3_VBEL attributes:</p></li>
<li><p>PH_n: nextNODEs STAT PH-result (i.e. bar) (startNODEs result for Pos=-1)</p></li>
<li><p>H_n: nextNODEs STAT H-result (i.e. barBzg) (startNODEs result for Pos=-1)</p></li>
<li><p>mlc_n: nextNODEs STAT H-result (startNODEs result for Pos=-1)</p></li>
<li><p>RHO_n: nextNODEs STAT RHO-result (startNODEs result for Pos=-1)</p></li>
<li><p>T_n: nextNODEs STAT T-result (startNODEs result for Pos=-1)</p></li>
<li><p>QM: Egde STAT QM-Result (startNODEs result for Pos=-1)</p></li>
<li><p>(‘STAT|TIME|TMIN|…’,’QM’, a Timestamp, a Timestamp): Egde QM-Results</p></li>
<li><p>“(‘STAT|TIME|TMIN|…’,’KNOT…PH|H|…’, a Timestamp, a Timestamp)”_n: nextNODEs Results</p></li>
<li><p>“(‘STAT|TIME|TMIN|…’,’mlc|…’        , a Timestamp, a Timestamp)”_n: nextNODEs Results calculated by PT3S</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">  Pos  ... (&#39;TMAX&#39;, &#39;mlc&#39;, Timestamp(&#39;2023-02-12 23:00:00&#39;), Timestamp(&#39;2023-02-13 23:00:00&#39;))_n</span>
<span class="go">0  -1  ...                                          602.48758</span>
<span class="go">0   0  ...                                          602.48758</span>
<span class="go">1   1  ...                                         602.419501</span>
<span class="go">2   2  ...                                         602.385399</span>
<span class="go">3   3  ...</span>
<span class="go">                                     602.306951</span>
</pre></div>
</div>
</section>
<section id="v3-rohrvec">
<h4>V3_ROHRVEC<a class="headerlink" href="#v3-rohrvec" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._V3_ROHRVEC">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_V3_ROHRVEC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V3_ROHR</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._V3_ROHRVEC" title="Permalink to this definition"></a></dt>
<dd><p>V3_ROHRVEC: Expanding V3_ROHR to V3_ROHRVEC (includes interior points). V3_ROHRVEC is a dxWithMx object Attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>V3_ROHR</strong> (<em>df</em>) – dxWithMx Attribute</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>V3_ROHRVEC</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>df</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The interior points are defined by the output grid definition for pipes in the SIR 3S model. The numerical grid with which SIR 3S calculates is different from the output grid.
The returned V3_ROHRVEC (one row per pipe and interior point) has the following columns:</p>
<blockquote>
<div><ul>
<li><p>pk: Pipe-pk</p></li>
<li><p>tk: Pipe-tk</p></li>
<li><p>…</p></li>
<li><p>L</p></li>
<li><p>…</p></li>
<li><p>NAME_i, NAME_k</p></li>
<li><p>mx2NofPts</p></li>
<li><p>dL (=L/(mx2NofPts-1))</p></li>
<li><p>…</p></li>
<li><p>mx2Idx</p></li>
<li><p>(‘STAT|TIME|TMIN|…’,’ROHR…QMAV|PHR|…’, a Timestamp, a Timestamp): Pipe-Results</p></li>
<li><p>“(‘STAT|TIME|TMIN|…’,’KNOT…PH|H|…’,     a Timestamp, a Timestamp)”_i: Pipe i-NODE Results</p></li>
<li><p>“(‘STAT|TIME|TMIN|…’,’KNOT…PH|H|…’,     a Timestamp, a Timestamp)”_k: Pipe k-NODE Results</p></li>
<li><p>QMAVAbs: Pipes STAT QMAV-Result (absolute value)</p></li>
<li><p>VAVAbs: Pipes STAT VAV-Result (absolute value)</p></li>
<li><p>PHRAbs: Pipes STAT PHR-Result (absolute value)</p></li>
<li><p>JVAbs: Pipes STAT JV-Result (absolute value)</p></li>
<li><p>IptIdx: an Index of the points: S: Start (i-NODE), E: End (k-NODE), interior points: 0,1,2,…</p></li>
<li><p>IptIdxAsNo: an Index of the points starting with 0 at i-NODE: 0,1,2,…</p></li>
<li><p>IptIdxAsNoRev: an Index of the points starting with 0 at k-NODE: 0,1,2,…</p></li>
<li><p>SVEC: x in Edge-direction (IptIdx=S: 0.; IptIdx=E: L)</p></li>
<li><p>SVECRev (IptIdx=S: L; IptIdx=E: 0)</p></li>
<li><p>ZVEC: z</p></li>
<li><p>(‘STAT|TIME|TMIN|…’,’ROHR…MVEC|PVEC|RHOVEC|TVEC|…’, a Timestamp, a Timestamp): point Results</p></li>
<li><p>(‘STAT|TIME|TMIN|…’,’manPVEC|mlcPVEC|barBzgPVEC|QMVEC|tMVEC|…’,  a Timestamp, a Timestamp): point Results calculated by PT3S</p>
<blockquote>
<div><ul class="simple">
<li><p>manPVEC: from PVEC …</p></li>
<li><p>mlcPVEC: from PVEC …</p></li>
<li><p>barBzgPVEC: from PVEC …</p></li>
<li><p>QMVEC: from MVEC … m3/h</p></li>
<li><p>tMVEC: from MVEC … t/h</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">V3_ROHRVEC</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">                    pk  ... (TMAX, tMVEC, 2023-02-12 23:00:00, 2023-02-13 23:00:00)</span>
<span class="go">0  5442010239090746007  ...                                          98.646645</span>
<span class="go">1  5442010239090746007  ...                                          98.646645</span>
<span class="go">2  4917786378639043296  ...                                          55.044947</span>
<span class="go">3  4917786378639043296  ...                                          55.044947</span>
<span class="go">4  4762482310382009633  ...                                          56.352818</span>
</pre></div>
</div>
</section>
<section id="v3-agsnvec">
<h4>V3_AGSNVEC<a class="headerlink" href="#v3-agsnvec" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._V3_AGSNVEC">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_V3_AGSNVEC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V3_AGSN</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._V3_AGSNVEC" title="Permalink to this definition"></a></dt>
<dd><p>V3_AGSNVEC is a m object Attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>V3_AGSN</strong> (<em>df</em>) – m.V3_AGSN</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>V3_AGSNVEC: V3_AGSN expanded to V3_AGSNVEC</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>df</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned V3_AGSNVEC (expands V3_AGSN from one row for each PIPE in (Section,Layer) to one row for each interior point)) has the following columns:</p>
<blockquote>
<div><p>V3_AGSN-columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>Pos: Pos=-1: eliminated if Start-Edge is a Pipe</p></li>
<li><p>nextNODE: Pos=0: startNODE &#64;IptIdxAsNo=0 if Start-Edge is a Pipe</p></li>
<li><p>LSum: Pos=0: 0. &#64;IptIdxAsNo=0 if Start-Edge is a Pipe</p></li>
<li><p>…</p></li>
<li><p>cols mapped with VEC-Results:</p></li>
<li><p>LSum</p></li>
<li><p>ZKOR_n</p></li>
<li><p>PH_n</p></li>
<li><p>H_n</p></li>
<li><p>mlc_n</p></li>
<li><p>T_n</p></li>
<li><p>QM  (see m’s flowMVEC Attribute to determine which VEC-Result is used; default: QMVEC)</p></li>
<li><p>PH_n_end</p></li>
<li><p>H_n_end</p></li>
<li><p>mlc_n_end</p></li>
<li><p>T_n_end</p></li>
<li><p>QM_end</p></li>
<li><p>PH_n_min</p></li>
<li><p>H_n_min</p></li>
<li><p>mlc_n_min</p></li>
<li><p>T_n_min</p></li>
<li><p>QM_min (buggy)</p></li>
<li><p>PH_n_max</p></li>
<li><p>H_n_max</p></li>
<li><p>mlc_n_max</p></li>
<li><p>T_n_max</p></li>
<li><p>QM_max (buggy)</p></li>
<li><dl class="simple">
<dt>cols _n_1,2,3,… derived from mxsVecsResults2MxDfVecAggs=[idxt1,idxt2,idxt3,…,-1]; _1,_2,_3,… corresponds to sorted([idxt1,idxt2,idxt3,…]):                        </dt><dd><ul>
<li><p>PH_n_1,2,3,…</p></li>
<li><p>H_n_1,2,3,…</p></li>
<li><p>mlc_n_1,2,3,…</p></li>
<li><p>T_n_1,2,3,…</p></li>
<li><p>QM_1,2,3,…</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>V3_ROHRVEC-columns:</p>
<blockquote>
<div><ul class="simple">
<li><p>pk_ROHRVEC: Pipe-pk</p></li>
<li><p>tk_ROHRVEC: Pipe-tk</p></li>
<li><p>…</p></li>
<li><p>L_ROHRVEC</p></li>
<li><p>…</p></li>
<li><p>NAME_i_ROHRVEC, NAME_k_ROHRVEC</p></li>
<li><p>mx2NofPts</p></li>
<li><p>dL (=L/(mx2NofPts-1))</p></li>
<li><p>…</p></li>
<li><p>mx2Idx</p></li>
<li><p>IptIdx: rows S or E are eliminated for all pipes except the 1st</p></li>
<li><p>…</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
</dd></dl>

<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">V3_AGSNVEC</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">  Pos                   pk  ...      QM_min      QM_max</span>
<span class="go">0   0  5755933101669454049  ...  287.090085  538.206592</span>
<span class="go">1   0  5755933101669454049  ...  287.090085  538.206592</span>
<span class="go">2   1  5755933101669454049  ...  287.090085  538.206592</span>
<span class="go">3   2  5755933101669454049  ... -538.206592 -287.090085</span>
<span class="go">4   3  5755933101669454049  ... -538.206592 -287.090085</span>
</pre></div>
</div>
</section>
<section id="geodataframes">
<h4>GeoDataframes<a class="headerlink" href="#geodataframes" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._gdfs">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_gdfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._gdfs" title="Permalink to this definition"></a></dt>
<dd><p>gdf_FWVB, gdf_FWVB and gdf_KNOT are m object attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – (=coordinate reference system) Determines crs used in the geopandas-Dfs (Possible value: ‘EPSG:25832’). If None, crs will be read from SIR 3S’ database file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(gdf_FWVB, gdf_ROHR, gdf_KNOT)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of gdfs</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the returned GeoDataFrames (gdf_FWVB, gdf_ROHR, gdf_KNOT) the following columns are added to V3_FWVB, V3_ROHR, V3_KNOT:</p>
<ul class="simple">
<li><p>geometry (in each gdf) based on GEOMWKB (in each V3-df)</p></li>
</ul>
</div>
</dd></dl>

</section>
</section>
<section id="graphs">
<h3>Graphs<a class="headerlink" href="#graphs" title="Permalink to this heading"></a></h3>
<section id="g">
<h4>G<a class="headerlink" href="#g" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._G">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_G</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V3_VBEL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V3_KNOT</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._G" title="Permalink to this definition"></a></dt>
<dd><p>G is a m object Attribute: The NetworkX Graph of the Hydraulic Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V3_VBEL</strong> (<em>df</em>) – edges</p></li>
<li><p><strong>V3_KNOT</strong> (<em>df</em>) – nodes</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>G</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>NetworkX Graph</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>nodeposDctNx (corresponding nodeposDct)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dct</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Builds NetworkX Graph from V3_VBEL (from_pandas_edgelist) with edge attributes. NAME_i and NAME_k are used as source and target. 
Corresponding node attributes from V3_KNOT.
edge and node attributes: keys: keys are tuples (not strings) if the source dfs contain cols which are tuples
nodeposDctNx: coordinates of nodes relative to the lower left network corner.</p>
</div>
</dd></dl>

</section>
<section id="gsig">
<h4>GSig<a class="headerlink" href="#gsig" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="dxAndMxHelperFcts.dxWithMx._GSig">
<span class="sig-prename descclassname"><span class="pre">dxAndMxHelperFcts.dxWithMx.</span></span><span class="sig-name descname"><span class="pre">_GSig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V3_RVBEL</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">V3_RKNOT</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dxAndMxHelperFcts.dxWithMx._GSig" title="Permalink to this definition"></a></dt>
<dd><p>GSig is a m object Attribute: The NetworkX Graph of the Signal Model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>V3_RVBEL</strong> (<em>df</em>) – edges</p></li>
<li><p><strong>V3_RKNOT</strong> (<em>df</em>) – nodes</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>GSig</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>NetworkX DiGraph</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Builds NetworkX Graph from V3_RVBEL (from_pandas_edgelist) with edge attributes. 
Corresponding node attributes from V3_RKNOT.
The Signal Model Elements (like RSLW or RSTN) are the nodes of GSig and the connections between these Signal Model Elements are the edges of GSig.    
V3_RKNOT: nodes: node IDs: Kn            
V3_RVBEL: edges: node IDs: Kn_i (source) and Kn_k (target)
node ID: KA (Element’s attribute KA is the ID of the Element’s output signal)</p>
</div>
</dd></dl>

</section>
</section>
</section>
<section id="dx-object">
<h2>Dx object<a class="headerlink" href="#dx-object" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3>Dataframes<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, by far not all dfs that are attributes of a Dx object are documented. Maybe this will be added in the future.
V3-VBEL, _KNOT, _ROHR and _FWVB are dx attributes.
The corresponding m attributes (V3-VBEL, _KNOT, _ROHR and _FWVB) extend the dx dfs with result columns.</p>
</div>
<section id="dflayr">
<h4>dfLAYR<a class="headerlink" href="#dflayr" title="Permalink to this heading"></a></h4>
<dl class="py function">
<dt class="sig sig-object py" id="Dx.Dx._dfLAYR">
<span class="sig-prename descclassname"><span class="pre">Dx.Dx.</span></span><span class="sig-name descname"><span class="pre">_dfLAYR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dx.Dx._dfLAYR" title="Permalink to this definition"></a></dt>
<dd><p>dfLAYR is a dx object Attribute.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Groups (also called Layers) are used in SIR 3S as a feature for data access, data filtering and grouping.</p>
<p>The returned dfLAYR (one row per LAYR and OBJ) has the following columns:</p>
<blockquote>
<div><dl class="simple">
<dt>LAYR:</dt><dd><ul class="simple">
<li><p>pk</p></li>
<li><p>tk</p></li>
<li><p>LFDNR (numeric)</p></li>
<li><p>NAME</p></li>
</ul>
</dd>
<dt>LAYR-Info:</dt><dd><ul class="simple">
<li><p>AnzDerObjekteInGruppe</p></li>
<li><p>AnzDerObjekteDesTypsInGruppe</p></li>
</ul>
</dd>
<dt>OBJ:</dt><dd><ul class="simple">
<li><p>TYPE</p></li>
<li><p>ID</p></li>
</ul>
</dd>
<dt>OBJ-Info:</dt><dd><ul class="simple">
<li><p>NrDesObjektesDesTypsInGruppe</p></li>
<li><p>NrDesObjektesInGruppe</p></li>
<li><p>GruppenDesObjektsAnz</p></li>
<li><p>GruppenDesObjektsNamen</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</div>
</dd></dl>

</section>
</section>
</section>
<section id="mx-object">
<h2>Mx object<a class="headerlink" href="#mx-object" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="functions.html" class="btn btn-neutral float-left" title="Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="releases.html" class="btn btn-neutral float-right" title="Releases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1986-2025, 3S Consult GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>