<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Developers &mdash; PT3S 90.14.45.0.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Releases" href="releases.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/pt3s_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">For Developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-git-on-your-computer">Setting Up Git on Your Computer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-github">Working with GitHub</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cloning-the-github-repository">Cloning the GitHub Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-github-version-control-procedure">General GitHub Version Control Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-the-latest-version-from-github">Get the Latest Version from GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commit-your-changes-to-the-github-repository">Commit Your Changes to the GitHub Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collection-of-useful-git-commands">Collection of Useful Git Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-workflows">GitHub Workflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#current-workflows">Current Workflows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manually-triggering-workflows">Manually Triggering Workflows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-pypi">Working with PyPI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#release-a-new-version">Release a New Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upload-a-new-version-to-pypi">Upload a New Version to PyPI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installing-pt3s-in-editable-mode">Installing PT3S in Editable Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generating-the-documentation">Generating the Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-doctests">Running Doctests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-the-deployment-with-docker">Testing the Deployment with Docker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#environment-versions">Environment Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initial-test-setup-process">Initial Test Setup Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-tests">Running Tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PT3S</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">For Developers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/developers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="for-developers">
<h1>For Developers<a class="headerlink" href="#for-developers" title="Permalink to this heading"></a></h1>
<p>Welcome to the Developers page! This section provides resources and instructions for developers who want to contribute to PT3S.</p>
<ul class="simple">
<li><p><strong>Contact</strong>: For additional information regarding PT3S, this documentation, and contribution inquiries, please contact <a class="reference external" href="mailto:jablonski&#37;&#52;&#48;3sconsult&#46;de">jablonski<span>&#64;</span>3sconsult<span>&#46;</span>de</a>. If you need feedback on a specific issue with PT3S, please include the PT3S version you are using and, if available, the Jupyter Notebook you are working with.</p></li>
<li><p><strong>GitHub Repository:</strong> You can find the source code and contribute to the project on our <a class="reference external" href="https://github.com/aw3s/PT3S">GitHub page</a>.</p></li>
<li><p><strong>PyPI Project:</strong> The PT3S package is also available on <a class="reference external" href="https://pypi.org/project/PT3S">PyPI</a>.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are working with a Spyder Console or in a similar environment, remember to place a ‘!’ before each command. This tells the environment to run the command as a shell command, not as a Python command. For instance, write <code class="docutils literal notranslate"><span class="pre">!git</span> <span class="pre">clone</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>.</p>
</div>
<section id="setting-up-git-on-your-computer">
<h2>Setting Up Git on Your Computer<a class="headerlink" href="#setting-up-git-on-your-computer" title="Permalink to this heading"></a></h2>
<p>Follow these steps to install and configure Git:</p>
<ol class="arabic">
<li><p><strong>Download Git:</strong> Visit the <a class="reference external" href="https://git-scm.com/downloads">official Git website</a> and download the version that is compatible with your operating system.</p></li>
<li><p><strong>Install Git:</strong> Launch the downloaded installer and follow the setup wizard to complete the installation.</p></li>
<li><p><strong>Configure Your GitHub Username:</strong> Open your terminal or command prompt and enter the following command, replacing “Your Name” with your actual GitHub username:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;Your Name&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Configure Your GitHub Email:</strong> Similarly, set your GitHub email using the following command, replacing <code class="docutils literal notranslate"><span class="pre">your.email&#64;example.com</span></code> with your actual email:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;your.email@example.com&quot;</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re pushing your first commit to GitHub, you might be prompted to authenticate your GitHub account. This usually involves entering your GitHub account credentials in a browser dialogue window that pops up. This is a standard security measure to ensure you have the necessary permissions to push to the repository.</p>
</div>
</section>
<section id="working-with-github">
<h2>Working with GitHub<a class="headerlink" href="#working-with-github" title="Permalink to this heading"></a></h2>
<section id="cloning-the-github-repository">
<span id="cloning-github-label"></span><h3>Cloning the GitHub Repository<a class="headerlink" href="#cloning-the-github-repository" title="Permalink to this heading"></a></h3>
<p>To clone a GitHub repository to your local folder, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Navigate to the Parent Directory of Your Project:</strong> Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command followed by the path to the parent directory of your project (This is the directory that should contain your project folder).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Clone the GitHub Repository:</strong> Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> command followed by the URL of the repository.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/aw3s/PT3S
</pre></div>
</div>
</li>
</ol>
<p>Now, you are advised to following the steps of <a class="reference internal" href="#install-editmode-label"><span class="std std-ref">Installing PT3S in Editable Mode</span></a>.</p>
</section>
<section id="general-github-version-control-procedure">
<h3>General GitHub Version Control Procedure<a class="headerlink" href="#general-github-version-control-procedure" title="Permalink to this heading"></a></h3>
<p>These instructions lay out the different steps of the GitHub procedure around contributing to PT3S. Especially due to the GitHub repository currentley sitting on only one branch (master), following these basic rules is crucial. As soon as PT3S has a higher amount of frequent contributors, a more suitable system with multiple branches will be implemented.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before following each step for the first time, read their instructions fully including notes like this one. If an unexpected problem occurs, you can search the <a class="reference internal" href="#command-collection-label"><span class="std std-ref">Collection of Useful Git Commands</span></a> for a solution.</p>
</div>
<p>Follow these steps every time you contribute to PT3S:</p>
<ol class="arabic simple">
<li><p><strong>Get the Latest Version from GitHub</strong>: <a class="reference internal" href="#get-latest-version-label"><span class="std std-ref">Get the Latest Version from GitHub</span></a></p></li>
<li><p><strong>Edit PT3S</strong>: Now you can edit the entire PT3S project locally. Please ensure, that nobody else is working on the project simultaneously in the same sourcefiles, because this could cause problems, when trying to commit.</p></li>
<li><p><strong>Commit Your Changes to the GitHub Repository</strong>: <a class="reference internal" href="#commit-changes-label"><span class="std std-ref">Commit Your Changes to the GitHub Repository</span></a></p></li>
</ol>
</section>
<section id="get-the-latest-version-from-github">
<span id="get-latest-version-label"></span><h3>Get the Latest Version from GitHub<a class="headerlink" href="#get-the-latest-version-from-github" title="Permalink to this heading"></a></h3>
<p>To fetch the latest changes from the origin and merge them into your current branch, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Navigate to project directory:</strong> Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command followed by the path to the directory of your project (This directory should contain an invisible .git folder).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S\PT3S&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Pull the latest changes from the origin</strong>: Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>
</div>
<p>For a more detailed updating process, follow steps 2 and 3 instead.</p>
</li>
</ol>
<ol class="arabic" start="2">
<li><p><strong>Fetch the latest changes from the origin:</strong> Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span> <span class="pre">origin</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>fetch<span class="w"> </span>origin
</pre></div>
</div>
</li>
<li><p><strong>Merge the fetched changes into your current branch:</strong> Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span> <span class="pre">origin/master</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>merge<span class="w"> </span>origin/master
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you made local changes to files that were also edited by a remote commit, make a local copy of your project directory and use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">origin/master</span></code>. Afterwards you can paste you local changes back in. Just make sure that the remote changes to these files were not important or manually include them in your files.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>origin/master
</pre></div>
</div>
</section>
<section id="commit-your-changes-to-the-github-repository">
<span id="commit-changes-label"></span><h3>Commit Your Changes to the GitHub Repository<a class="headerlink" href="#commit-your-changes-to-the-github-repository" title="Permalink to this heading"></a></h3>
<p>To commit your changes to the GitHub repository, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Navigate to project directory:</strong> Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command followed by the path to the directory of your project (This directory should contain an invisible .git folder).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S\PT3S&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Add files to the staging area:</strong> Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> command followed by the name of the file. Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> to add all files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>.
</pre></div>
</div>
</li>
<li><p><strong>Create a new commit with a descriptive message:</strong> Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&quot;commit_message&quot;</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;commit_message&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Push your commit to the GitHub Repository:</strong> Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">master</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>
</div>
</li>
</ol>
</section>
<section id="collection-of-useful-git-commands">
<span id="command-collection-label"></span><h3>Collection of Useful Git Commands<a class="headerlink" href="#collection-of-useful-git-commands" title="Permalink to this heading"></a></h3>
<p>To discard all local changes and set your local HEAD to the master, use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>origin/master
</pre></div>
</div>
</div></blockquote>
<p>To discard all remote changes and force push local HEAD to the master, use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master<span class="w"> </span>--force
</pre></div>
</div>
</div></blockquote>
<p>To uncommit commited but not yet pushed changes of the previous commit without changing local files (move HEAD pointer back by one commit), use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>reset<span class="w"> </span>--soft<span class="w"> </span>HEAD~1
</pre></div>
</div>
</div></blockquote>
<p>To revert all changes caused by a commit, use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>revert<span class="w"> </span>commitID
</pre></div>
</div>
</div></blockquote>
<p>To load a branch locally, use:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>&lt;branchname&gt;
</pre></div>
</div>
</div></blockquote>
</section>
<section id="github-workflows">
<span id="github-workflow-label"></span><h3>GitHub Workflows<a class="headerlink" href="#github-workflows" title="Permalink to this heading"></a></h3>
<p>Our GitHub repository uses workflows to facilitate certain processes by automating tasks. Workflows are defined using YAML files and are stored in the <cite>.github/workflows</cite> directory of our repository.</p>
<section id="current-workflows">
<span id="current-workflow-label"></span><h4>Current Workflows<a class="headerlink" href="#current-workflows" title="Permalink to this heading"></a></h4>
<p>All of our workflows can be triggered using <a class="reference internal" href="#manually-triggering-workflows-label"><span class="std std-ref">Manually Triggering Workflows</span></a>.</p>
<p>We currently use the following workflows:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Name</strong></p></th>
<th class="head"><p><strong>Triggers (Apart from manually triggering)</strong></p></th>
<th class="head"><p><strong>Tasks</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Automatic Copying of HTML-Files</p></td>
<td><p>Push to <cite>PT3S/sphinx_docs/_build/html/</cite></p></td>
<td><p>Copies HTML files from master <cite>PT3S/sphinx_docs/_build/html</cite> to gh-pages <cite>PT3S/docs</cite></p></td>
</tr>
<tr class="row-odd"><td><p>Automatic Deletion of Example Data</p></td>
<td></td>
<td><p>Deletes example data in all <cite>PT3S/Examples/WDExampleX/B1/V0/BZ1</cite> except <cite>.xml</cite> and <cite>.mx1</cite></p></td>
</tr>
</tbody>
</table>
</section>
<section id="manually-triggering-workflows">
<span id="manually-triggering-workflows-label"></span><h4>Manually Triggering Workflows<a class="headerlink" href="#manually-triggering-workflows" title="Permalink to this heading"></a></h4>
<p>Follow these steps to manually trigger a workflow via GitHub:</p>
<ol class="arabic simple">
<li><p>Navigate to the <strong>Actions</strong> tab of the PT3S GitHub repository.</p></li>
<li><p>Select the workflow you want to trigger from the list on the left.</p></li>
<li><p>Click the <strong>Run workflow</strong> button.</p></li>
<li><p>Optionally, provide any required inputs and click <strong>Run workflow</strong> again to start the workflow.</p></li>
</ol>
</section>
</section>
</section>
<section id="working-with-pypi">
<h2>Working with PyPI<a class="headerlink" href="#working-with-pypi" title="Permalink to this heading"></a></h2>
<section id="release-a-new-version">
<span id="version-control-label"></span><h3>Release a New Version<a class="headerlink" href="#release-a-new-version" title="Permalink to this heading"></a></h3>
<p>Before uploading a new release to PyPI, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Document the Release:</strong> Describe new additions or fixes, that are included in this release, to the PT3S/sphinx_docs/releases.rst file.</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">90.14.20.0.dev1</span>
<span class="gh">---------------</span>
<span class="m">-</span> readDxAndMx:
    <span class="gs">**Fix:**</span>
        <span class="m">-</span> m is constructed (instead of reading m-pickle) if SIR 3S&#39; dbFile is newer than m-pickle; in previous releases m-pickle was read even if dbFile is newer
    <span class="gs">**New:**</span>
        <span class="m">-</span> INFO: if SIR 3S&#39; dbFile is newer than SIR 3S&#39; mxFile; in this case the results are maybe dated or (worse) incompatible to the model

<span class="gh">90.14.19.0.dev1</span>
<span class="gh">---------------</span>
<span class="gs">**New:**</span>

<span class="m">-</span> SIR 3S db3 and mx files used in Examples are now included in the package.
</pre></div>
</div>
</li>
</ol>
<p>On the <a class="reference internal" href="releases.html"><span class="doc">Releases</span></a> page you can view how this rst code is transformed into html.</p>
<ol class="arabic simple" start="2">
<li><p><strong>Change Release Number:</strong> Change the release numbers in the files: PT3S/conf.py, PT3S/setup.py, PT3S/sphinx_docs/conf.py</p></li>
<li><p><strong>Run Doctests:</strong> Follow the steps of <a class="reference internal" href="#running-doctests-label"><span class="std std-ref">Running Doctests</span></a>. And make sure they are executed successfully.</p></li>
<li><p><strong>Generate the Documentation:</strong> Follow the steps in <a class="reference internal" href="#generating-documentation-label"><span class="std std-ref">Generating the Documentation</span></a>.</p></li>
</ol>
</section>
<section id="upload-a-new-version-to-pypi">
<h3>Upload a New Version to PyPI<a class="headerlink" href="#upload-a-new-version-to-pypi" title="Permalink to this heading"></a></h3>
<p>Follow these steps to upload a new version of your project to PyPI:</p>
<ol class="arabic">
<li><p><strong>Version Control:</strong> Make sure you have documented your changes and changed the release number in all necessary files according to <a class="reference internal" href="#version-control-label"><span class="std std-ref">Release a New Version</span></a>.</p></li>
<li><p><strong>Navigate to project directory:</strong> Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command followed by the path to the directory of your project.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S\PT3S&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Delete Old Distributions:</strong> Remove all old distributions in your <code class="docutils literal notranslate"><span class="pre">dist</span></code> directory.</p></li>
<li><p><strong>Create a New Source Distribution:</strong> Use the <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">sdist</span></code> command to create a new source distribution of your package.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>setup.py<span class="w"> </span>sdist
</pre></div>
</div>
</li>
<li><p><strong>Generate an API Token on PyPI:</strong> Log into your PyPI account and navigate to your Account Settings. Find “API Tokens” and then “Add API Token”. Provide a token name and select the scopes this token should have access to (include PT3S). Click “Create Token” and make sure to copy your new token. This token can be used for all your future PT3S Uploads.</p></li>
<li><p><strong>Upload the Distribution with Twine:</strong> Use the <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">twine</span> <span class="pre">upload</span> <span class="pre">dist/*</span></code> command to upload the distribution.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>twine<span class="w"> </span>upload<span class="w"> </span>-u<span class="w"> </span>__token__<span class="w"> </span>-p<span class="w"> </span>&lt;YOUR<span class="w"> </span>TOKEN&gt;<span class="w"> </span>dist/*<span class="w"> </span>--verbose
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure to keep your API token secure and do not hard-code it in your scripts or code. It’s best to set it as an environment variable or store it in a secret configuration file.</p>
</div>
<ol class="arabic simple" start="7">
<li><p><strong>Test the Deployment:</strong> Follow the steps in <a class="reference internal" href="#test-the-deployment-label"><span class="std std-ref">Running Tests</span></a></p></li>
</ol>
</section>
</section>
<section id="installing-pt3s-in-editable-mode">
<span id="install-editmode-label"></span><h2>Installing PT3S in Editable Mode<a class="headerlink" href="#installing-pt3s-in-editable-mode" title="Permalink to this heading"></a></h2>
<p>After <a class="reference internal" href="#cloning-github-label"><span class="std std-ref">Cloning the GitHub Repository</span></a>, you can install the package in editable mode. Here are the steps:</p>
<ol class="arabic">
<li><p><strong>Navigate to the Directory of the Cloned Repository:</strong> Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command followed by the path to the directory of your project.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S\PT3S&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Install the Package in Editable Mode:</strong> Use the <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">.</span></code> command to install the package in editable mode.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</li>
</ol>
<p>Now, your package is installed in editable mode. This means that you can make changes to the source code of the package and those changes will take effect immediately without needing to reinstall the package.</p>
<p>By installing PT3S in editable mode, a <cite>PT3S.egg-link</cite> file is created in the <cite>C:\Users\User\AppData\Local\anaconda3\Lib\site-packages</cite> directory. This file is a link to your project directory and allows Python to import the package as if it were installed normally. If you no longer need the package to be in editable mode, you can simply reinstall PT3S using pip. You can also reinstall an older version this way to test it.</p>
</section>
<section id="generating-the-documentation">
<span id="generating-documentation-label"></span><h2>Generating the Documentation<a class="headerlink" href="#generating-the-documentation" title="Permalink to this heading"></a></h2>
<p>The PT3S documentation is edited in PT3S/sphinx_docs and files hosting the documentation are located in PT3S/docs.</p>
<p>If you want to edit the documentation yourself, you have to install sphinx related python packages.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>nbsphinx<span class="w"> </span>sphinx_copybutton<span class="w"> </span>sphinx-rtd-theme
</pre></div>
</div>
</div></blockquote>
<p>Before generating the documentation for the first time, follow the steps of <a class="reference internal" href="#install-editmode-label"><span class="std std-ref">Installing PT3S in Editable Mode</span></a>.</p>
<p>To generate documentation, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Edit the documentation:</strong> Make your changes in the PT3S/sphinx_docs directory.</p></li>
<li><p><strong>Navigate to the PT3S/sphinx_docs directory:</strong> Use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S\PT3S\sphinx_docs&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Make an HTML build:</strong> Use <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">sphinx.cmd.build</span> <span class="pre">-b</span> <span class="pre">html</span> <span class="pre">.</span> <span class="pre">/_build/html</span></code> (for python env)  or <code class="docutils literal notranslate"><span class="pre">.\make.bat</span> <span class="pre">html</span></code> (for conda env).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>sphinx.cmd.build<span class="w"> </span>-b<span class="w"> </span>html<span class="w"> </span>.<span class="w"> </span>/_build/html
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.<span class="se">\m</span>ake.bat<span class="w"> </span>html
</pre></div>
</div>
</li>
</ol>
<ol class="arabic simple" start="3">
<li><p><strong>Use Build File</strong>: Alternatively, instead of using the <code class="docutils literal notranslate"><span class="pre">.\make.bat</span> <span class="pre">html</span></code> command, you can simply open the <cite>PT3S/sphinx_docs/make_html_docs.py</cite> file and run it to generate the documentation. This method will not print any Sphinx debugging output and will save time. This alternative is recommended when making many iterative improvements to the documentation.</p></li>
<li><p><strong>Commit the changes.</strong> Commit all files from PT3S/sphinx_docs to GitHub (<a class="reference internal" href="#commit-changes-label"><span class="std std-ref">Commit Your Changes to the GitHub Repository</span></a>).</p></li>
</ol>
<p>The new documentation can be found at <a class="reference external" href="https://aw3s.github.io/PT3S/index.html">https://aw3s.github.io/PT3S/index.html</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The created files in PT3S/sphinx/docs/_build/html on the master branch are moved to PT3S/docs on the gh-pages branch by one of our <a class="reference internal" href="#github-workflow-label"><span class="std std-ref">GitHub Workflows</span></a> and then hosted via GitHubPages. It might take a couple of minutes until the changes are visible on the website.</p>
</div>
</section>
<section id="running-doctests">
<span id="running-doctests-label"></span><h2>Running Doctests<a class="headerlink" href="#running-doctests" title="Permalink to this heading"></a></h2>
<p>Follow these tests to run all doctests included in this documentation:</p>
<ol class="arabic">
<li><p><strong>Navigate to sphinx_docs directory:</strong> Open your terminal or command prompt and navigate to the directory sphinx_docs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:\Users\User\3S\PT3S\sphinx_docs&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Make a doctest build:</strong> Use the <code class="docutils literal notranslate"><span class="pre">.\make.bat</span> <span class="pre">doctest</span></code> command.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.<span class="se">\m</span>ake.bat<span class="w"> </span>doctest
</pre></div>
</div>
</li>
</ol>
<p>You will get a console output and a output.txt file in the sphinx_docs_builddoctest directory.</p>
<p>If you want the newly added or edited tests included into the hosted documentation follow the steps of <a class="reference internal" href="#generating-documentation-label"><span class="std std-ref">Generating the Documentation</span></a>. Running the tests beforehand is only necessary if the tests are inclueded outside of .rst files.</p>
</section>
<section id="testing-the-deployment-with-docker">
<h2>Testing the Deployment with Docker<a class="headerlink" href="#testing-the-deployment-with-docker" title="Permalink to this heading"></a></h2>
<p>To ensure that the examples provided on the <a class="reference internal" href="examples.html"><span class="doc">Examples</span></a> page run smoothly on devices of users not involved in the development process, we test them using nbval inside a Docker container. This container simulates a Windows environment, including SIR 3S, the latest release of PT3S with its dependencies, the example data, and the example notebooks.</p>
<section id="environment-versions">
<span id="environment-versions-label"></span><h3>Environment Versions<a class="headerlink" href="#environment-versions" title="Permalink to this heading"></a></h3>
<p>This list provides information about the versions of various tools used throughout this project regarding development, creation of documentation, use of examples, etc. It is recommended to use the same versions of these tools, especially if you are contributing. These versions are used in the Docker testing.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Tool</strong></p></th>
<th class="head"><p><strong>Version</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Python</p></td>
<td><p>3.11.8</p></td>
</tr>
<tr class="row-odd"><td><p>Anaconda (Not used in Docker)</p></td>
<td><p>24.11.0</p></td>
</tr>
<tr class="row-even"><td><p>Sphinx-build</p></td>
<td><p>5.0.2</p></td>
</tr>
</tbody>
</table>
</section>
<section id="initial-test-setup-process">
<h3>Initial Test Setup Process<a class="headerlink" href="#initial-test-setup-process" title="Permalink to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not all files mentioned below are publicly available.</p>
</div>
<p>To set up all necessary files and programs to run tests on Notebooks, follow these steps:</p>
<ol class="arabic">
<li><p><strong>Setup Docker</strong>: Download and install Docker Desktop. There might be some issues that need fixing in Windows settings. Help from the technical team is advised.</p></li>
<li><p><strong>Enable Windows Containers</strong>: Right-click on the Docker Desktop icon in your taskbar and click “Switch to Windows Containers”.</p></li>
<li><p><strong>Get Docker Files</strong>: Copy <cite>T:/interne_Projekte/PT3S/docker</cite> and <cite>T:/interne_Projekte/PT3S/dockerNotebooks</cite> to <cite>C:/Users/User/3S</cite>.</p></li>
<li><p><strong>Copy SirCalc</strong>: The <cite>C:/Users/User/3S/docker/SIR 3S</cite> directory is empty and needs a working copy of SirCalc. The easiest way to achieve this is to copy all files from your local <cite>C:/3S/SIR 3S</cite> to <cite>C:/Users/User/3S/docker/SIR 3S</cite> and then delete unnecessary files. This prevents them from being included in the container, which would make the build process even longer.</p></li>
<li><p><strong>Create v</strong>: Create a folder at <cite>C:/Users/User/3S/dockerNotebooks</cite>. The <cite>dockerNotebooks</cite> folder on your local machine is used as a volume for the Docker container. Therefore, all changes made to the notebooks inside the container are applied to these files. You can also save additional notebooks to this folder to add them into the container for testing.</p></li>
<li><p><strong>Start Docker Engine:</strong> Open Docker Desktop and start the engine.</p></li>
<li><p><strong>Navigate to Docker Folder:</strong> Open your terminal or command prompt and navigate to the directory containing your Dockerfile.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>C:/Users/User/3S/docker
</pre></div>
</div>
</li>
<li><p><strong>Build the Docker image</strong>: Run the following command in a cmd with the name you want to give to your Docker image (e.g., <cite>pt3stestpotsdam</cite>). This process can take around half an hour. So make sure everything is set up properly.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>pt3stestpotsdam<span class="w"> </span>.
</pre></div>
</div>
</li>
</ol>
</section>
<section id="running-tests">
<span id="test-the-deployment-label"></span><h3>Running Tests<a class="headerlink" href="#running-tests" title="Permalink to this heading"></a></h3>
<p>These tests are run on <a class="reference internal" href="#environment-versions-label"><span class="std std-ref">Environment Versions</span></a>.</p>
<p>Follow these steps to run tests on the Example Notebooks currently hosted at <a class="reference internal" href="examples.html"><span class="doc">Examples</span></a>:</p>
<ol class="arabic">
<li><p><strong>Start Docker Engine:</strong> Open Docker Desktop and start the engine.</p></li>
<li><p><strong>Navigate to your project directory:</strong> Open your terminal or command prompt and navigate to the directory containing your Dockerfile.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;C:/Users/User/3S/docker&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>Run the Docker container:</strong> Run the following command with the name of your Docker image.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The port must differ from a local JupyterLab you might be running.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>-v<span class="w"> </span>C:<span class="se">\U</span>sers<span class="se">\U</span>ser<span class="se">\3</span>S<span class="se">\d</span>ockerNotebooks:C:<span class="se">\3</span>S<span class="se">\n</span>otebooks<span class="w"> </span>-p<span class="w"> </span><span class="m">8889</span>:8888<span class="w"> </span>pt3stestpotsdam
</pre></div>
</div>
<p>The container should now be running, downloading the Example Notebooks and upgrading PT3S to its newest version automatically. The <cite>dockerNotebooks</cite> folder on your local machine is used as a volume for the Docker container. Therefore, all changes made to the notebooks inside the container are applied to these files. You can also save additional notebooks to this folder to add them into the container for testing (rerun necessary).</p>
<p>You now have access to a cmd running in the container environment. The <cite>-it</cite> option starts the container in interactive mode, and the <cite>–rm</cite> option removes the container after it exits.</p>
</li>
<li><p><strong>Start Tests:</strong> Run the following command inside the container cmd. You should now be provided with the test results in the cmd.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>--nbval
</pre></div>
</div>
<p>With config  file (currentley not useful):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>--nbval<span class="w"> </span>--nbval-sanitize-with<span class="w"> </span>sanitize.cfg
</pre></div>
</div>
</li>
<li><p><strong>Open new Container CMD:</strong> Run the following command in a local cmd. The container_id can be found on Docker Desktop.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>container_id<span class="w"> </span>cmd
</pre></div>
</div>
</li>
<li><p><strong>Start JupyterLab:</strong> Run the following command in the new container cmd.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>jupyter<span class="w"> </span>lab<span class="w"> </span>--ip<span class="o">=</span><span class="m">0</span>.0.0.0<span class="w"> </span>--allow-root
</pre></div>
</div>
</li>
<li><p><strong>Open in local Browser</strong>: Due to there not being a browser installed inside the docker container, JupyterLab will not open automatically. Click on one of the links provided in the cmd output or click on the host of the running container under the container tab in Docker Desktop. You might need to enter a token. This can be found in the cmd output as well. Now you can edit the notebooks inside the docker container. Saved changes are applied to your local files in the dockerNotebooks folder.</p></li>
<li><p><strong>Test manually</strong>: To test one specific or all examples, run the following commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>--nbval<span class="w"> </span>ExampleX.ipynb
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>--nbval
</pre></div>
</div>
</li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="releases.html" class="btn btn-neutral float-left" title="Releases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1986-2025, 3S Consult GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>