<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Loop over multiple SIR 3S calculations &mdash; PT3S 90.14.38.0.dev1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />
      <link rel="stylesheet" type="text/css" href="_static/nbsphinx-code-cells.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/pt3s_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">For Developers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PT3S</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Loop over multiple SIR 3S calculations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Example5.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Loop-over-multiple-SIR-3S-calculations">
<h1>Loop over multiple SIR 3S calculations<a class="headerlink" href="#Loop-over-multiple-SIR-3S-calculations" title="Permalink to this heading"></a></h1>
<p>This example demonstrates how to loop over several SIR 3S calculations, calculate each different state and plot it.</p>
<p>SIR 3S provides a C# .NET adapter for carrying out loops over multiple calculations. With the C# .NET adapter, SIR 3S calculations can be integrated directly into other software. In SIR 3S itself, the C# .NET adapter is used to implement calculation loops such as n-1 calculations.</p>
<p>In addition, SIR 3S provides connections to control systems via OPC and other interfaces such as Kafka. The SIR 3S software component for these connections is called - for historical reasons - SirOPC. SirIPC (Inter Process Communication) is a more suitable name for SirOPC. SirOPC is used for e.g. control system integrated SIR 3S simulations such as cyclic look-ahead calculations.</p>
<p>Regardless of the topic of interprocess communication SIR 3S offers the option to perform several steady state calculations one after the other in one SIR 3S calculation run as quasi steady state calculations. The sequence of calculations is done out over a pseudo time step, e.g. 1 hour with 60 calculations or 1 year with 8760 calculations. Whether individual calculations or a sequence over a pseudo-time in one run is the better choice depends on the task.</p>
<p>Despite the aforementioned options, it can be helpful to control or perform SIR 3S calculations calculations by script.</p>
</section>
<section id="PT3S-Release">
<h1>PT3S Release<a class="headerlink" href="#PT3S-Release" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pip install PT3S -U --no-deps</span>
</pre></div>
</div>
</div>
</section>
<section id="Imports">
<h1>Imports<a class="headerlink" href="#Imports" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">geopandas</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1">#from PIL import Image</span>

<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1">#import matplotlib.dates as mdates</span>

<span class="kn">import</span> <span class="nn">matplotlib</span>

<span class="kn">import</span> <span class="nn">folium</span>
<span class="kn">from</span> <span class="nn">folium.plugins</span> <span class="kn">import</span> <span class="n">HeatMap</span>

<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PT3S</span> <span class="kn">import</span> <span class="n">dxAndMxHelperFcts</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">dxAndMxHelperFcts</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PT3S</span> <span class="kn">import</span> <span class="n">Mx</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">Mx</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PT3S</span> <span class="kn">import</span> <span class="n">Rm</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">Rm</span>


<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PT3S</span> <span class="kn">import</span> <span class="n">pNFD</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">pNFD</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PT3S</span> <span class="kn">import</span> <span class="n">ncd</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">ncd</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">importlib</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#importlib.reload(dxAndMxHelperFcts)</span>
</pre></div>
</div>
</div>
</section>
<section id="Logging">
<h1>Logging<a class="headerlink" href="#Logging" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>

<span class="n">logFileName</span><span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;Example5.log&quot;</span>

<span class="n">loglevel</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">logFileName</span>
                        <span class="p">,</span><span class="n">filemode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span>
                        <span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="n">loglevel</span>
                        <span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> ; </span><span class="si">%(name)-60s</span><span class="s2"> ; </span><span class="si">%(levelname)-7s</span><span class="s2"> ; </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">fileHandler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">logFileName</span><span class="p">)</span>

<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fileHandler</span><span class="p">)</span>

<span class="n">consoleHandler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">consoleHandler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%(levelname)-7s</span><span class="s2"> ; </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">consoleHandler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">consoleHandler</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Read-Model-and-Results">
<h1>Read Model and Results<a class="headerlink" href="#Read-Model-and-Results" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dbFilename</span><span class="o">=</span><span class="s2">&quot;Example5&quot;</span>
<span class="n">dbFile</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">dxAndMxHelperFcts</span><span class="o">.</span><span class="vm">__file__</span><span class="p">))</span>
                    <span class="o">+</span><span class="s1">&#39;/Examples/&#39;</span>
                    <span class="o">+</span><span class="n">dbFilename</span>
                    <span class="o">+</span><span class="s1">&#39;.db3&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">=</span><span class="n">dxAndMxHelperFcts</span><span class="o">.</span><span class="n">readDxAndMx</span><span class="p">(</span><span class="n">dbFile</span><span class="o">=</span><span class="n">dbFile</span><span class="p">,</span><span class="n">preventPklDump</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">maxRecords</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#NBVAL_IGNORE_OUTPUT</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Dx.__init__: dbFile (abspath): c:\users\aUserName\3s\pt3s\Examples\Example5.db3 exists readable ...
INFO    ; dxAndMxHelperFcts.readDxAndMx:
+..\Examples\Example5.db3 is newer than
+..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MX1:
+SIR 3S&#39; dbFile is newer than SIR 3S&#39; mx1File
+in this case the results are maybe dated or (worse) incompatible to the model
INFO    ; dxAndMxHelperFcts.readDxAndMx:
+..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.XML is newer than
+..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MX1:
+SirCalc&#39;s xmlFile is newer than SIR 3S&#39; mx1File
+in this case the results are maybe dated or (worse) incompatible to the model
INFO    ; dxAndMxHelperFcts.readDxAndMx: running C:\\3S\Sir3s\SirCalc-90-14-02-10_Potsdam\SirCalc.exe ...
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
</section>
<section id="Plot-Result">
<h1>Plot Result<a class="headerlink" href="#Plot-Result" title="Permalink to this heading"></a></h1>
<section id="As-Network-Color-Diagram">
<h2>As Network Color Diagram<a class="headerlink" href="#As-Network-Color-Diagram" title="Permalink to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_Result_ncd</span><span class="p">(</span><span class="n">gdf_ROHR</span><span class="p">,</span> <span class="n">gdf_FWVB</span><span class="p">,</span> <span class="n">axTitle</span><span class="o">=</span><span class="s1">&#39;initial condition&#39;</span><span class="p">):</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">Rm</span><span class="o">.</span><span class="n">DINA3q</span><span class="p">)</span>

    <span class="n">nodes_patches_1</span> <span class="o">=</span> <span class="n">ncd</span><span class="o">.</span><span class="n">pNcd_nodes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
                                    <span class="p">,</span><span class="n">gdf</span><span class="o">=</span><span class="n">gdf_FWVB</span>
                                    <span class="p">,</span><span class="n">attribute</span><span class="o">=</span><span class="s1">&#39;QM&#39;</span>
                                    <span class="p">,</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cyan&#39;</span><span class="p">,</span><span class="s1">&#39;teal&#39;</span><span class="p">]</span>
                                    <span class="p">,</span><span class="n">norm_max</span><span class="o">=</span><span class="mi">100</span>
                                    <span class="p">,</span><span class="n">marker_style</span><span class="o">=</span><span class="s1">&#39;p&#39;</span>
                                    <span class="p">,</span><span class="n">legend_fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:4.0f}</span><span class="s1"> t/h&#39;</span>
                                    <span class="p">,</span><span class="n">legend_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>
                                    <span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">pipes_patches_2</span> <span class="o">=</span> <span class="n">ncd</span><span class="o">.</span><span class="n">pNcd_pipes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
                                     <span class="p">,</span><span class="n">gdf</span><span class="o">=</span><span class="n">gdf_ROHR</span>
                                     <span class="p">,</span><span class="n">attribute</span><span class="o">=</span><span class="s1">&#39;DI&#39;</span>
                                     <span class="p">,</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lightgray&#39;</span><span class="p">,</span> <span class="s1">&#39;dimgray&#39;</span><span class="p">]</span>
                                     <span class="p">,</span><span class="n">legend_fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:4.0f}</span><span class="s1"> mm&#39;</span>
                                     <span class="p">,</span><span class="n">line_width_factor</span><span class="o">=</span><span class="mi">20</span>
                                     <span class="p">,</span><span class="n">legend_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">750</span><span class="p">]</span>
                                     <span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>


    <span class="n">pipes_patches_3</span> <span class="o">=</span> <span class="n">ncd</span><span class="o">.</span><span class="n">pNcd_pipes</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span>
                                     <span class="p">,</span><span class="n">gdf</span><span class="o">=</span><span class="n">gdf_ROHR</span>
                                     <span class="p">,</span><span class="n">attribute</span><span class="o">=</span><span class="s1">&#39;QMAVAbs&#39;</span>
                                     <span class="p">,</span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;darkgreen&#39;</span><span class="p">,</span> <span class="s1">&#39;magenta&#39;</span><span class="p">]</span>
                                     <span class="p">,</span><span class="n">legend_fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:4.0f}</span><span class="s1"> t/h&#39;</span>
                                     <span class="p">,</span><span class="n">line_width_factor</span><span class="o">=</span><span class="mi">20</span>
                                     <span class="p">,</span><span class="n">legend_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1500</span><span class="p">,</span><span class="mi">2000</span><span class="p">]</span>
                                     <span class="p">,</span><span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">all_patches</span> <span class="o">=</span> <span class="n">nodes_patches_1</span> <span class="o">+</span> <span class="n">pipes_patches_2</span> <span class="o">+</span> <span class="n">pipes_patches_3</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">all_patches</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;best&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">axTitle</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_Result_ncd</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">gdf_ROHR</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">gdf_FWVB</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_16_0.png" src="_images/Example5_16_0.png" />
</div>
</div>
</section>
<section id="Longitudinal-Sections">
<h2>Longitudinal Sections<a class="headerlink" href="#Longitudinal-Sections" title="Permalink to this heading"></a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fyPH</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s2">&quot;outward&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;PH Druck in bar&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">),[])))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">fyPH_d</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s2">&quot;outward&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;PH Druck in bar&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">27</span><span class="p">),[])))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">fymlc</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">60</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s2">&quot;outward&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;mlc Druckhöhe in mlc&#39;</span><span class="p">)</span>
    <span class="c1">#ax.set_ylim(1,6)</span>
    <span class="c1">#ax.set_yticks(sorted(np.append(np.linspace(1,6,11),[])))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">fybarBzg</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">120</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s2">&quot;outward&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;H Druck in barBzg&#39;</span><span class="p">)</span>
    <span class="c1">#ax.set_ylim(1,6)</span>
    <span class="c1">#ax.set_yticks(sorted(np.append(np.linspace(1,6,11),[])))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

<span class="c1">#def fyM(ax,offset=180):</span>
<span class="c1">#    Rm.pltLDSHelperY(ax)</span>
<span class="c1">#    ax.spines[&quot;left&quot;].set_position((&quot;outward&quot;,offset))</span>
<span class="c1">#    ax.set_ylabel(&#39;QM Massenstrom in t/h&#39;)</span>
    <span class="c1">#ax.set_ylim(500,550)</span>
    <span class="c1">#ax.set_yticks(sorted(np.append(np.linspace(500,550,11),[])))</span>
<span class="c1">#    ax.yaxis.set_ticks_position(&#39;left&#39;)</span>
<span class="c1">#    ax.yaxis.set_label_position(&#39;left&#39;)</span>

<span class="k">def</span> <span class="nf">fyT</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span><span class="n">offset</span><span class="o">=</span><span class="mi">180</span><span class="p">):</span>
    <span class="n">Rm</span><span class="o">.</span><span class="n">pltLDSHelperY</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_position</span><span class="p">((</span><span class="s2">&quot;outward&quot;</span><span class="p">,</span><span class="n">offset</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;T Tempertatur in °C&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">55</span><span class="p">,</span><span class="mi">95</span><span class="p">)</span>
    <span class="c1">#ax.set_yticks(sorted(np.append(np.linspace(0,95,11),[])))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_Result_ls</span><span class="p">(</span><span class="n">V3_AGSN</span><span class="p">):</span>

    <span class="n">PHCol</span><span class="o">=</span><span class="s1">&#39;PH_n&#39;</span>
    <span class="n">mlcCol</span><span class="o">=</span><span class="s1">&#39;mlc_n&#39;</span>
    <span class="n">zKoorCol</span><span class="o">=</span><span class="s1">&#39;ZKOR_n&#39;</span>
    <span class="n">barBzgCol</span><span class="o">=</span><span class="s1">&#39;H_n&#39;</span>
    <span class="n">QMCol</span><span class="o">=</span><span class="s1">&#39;QM&#39;</span>
    <span class="n">TCol</span><span class="o">=</span><span class="s1">&#39;T_n&#39;</span>
    <span class="n">xCol</span><span class="o">=</span><span class="s1">&#39;LSum&#39;</span>

    <span class="n">dfAGSN</span> <span class="o">=</span> <span class="n">V3_AGSN</span><span class="p">[</span>
        <span class="p">(</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span>
        <span class="p">(</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">dfAGSNRL</span><span class="o">=</span><span class="n">V3_AGSN</span><span class="p">[</span>
    <span class="p">(</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">2</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax0</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">Rm</span><span class="o">.</span><span class="n">DINA3q</span><span class="p">)</span>

    <span class="n">ax0</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

    <span class="c1">#PH</span>
    <span class="n">fyPH</span><span class="p">(</span><span class="n">ax0</span><span class="p">)</span>
    <span class="n">PH_SL</span><span class="o">=</span><span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;PH SL&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">)</span>
    <span class="n">PH_RL</span><span class="o">=</span><span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;PH RL&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">)</span>

    <span class="c1">#mlc</span>
    <span class="n">ax11</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
    <span class="n">fymlc</span><span class="p">(</span><span class="n">ax11</span><span class="p">)</span>
    <span class="n">mlc_SL</span><span class="o">=</span><span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;mlc SL&#39;</span><span class="p">)</span>
    <span class="n">mlc_RL</span><span class="o">=</span><span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;mlc RL&#39;</span><span class="p">)</span>

    <span class="n">z</span><span class="o">=</span><span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN</span><span class="p">[</span><span class="n">zKoorCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;z&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

    <span class="c1">#barBZG</span>
    <span class="n">ax12</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
    <span class="n">fybarBzg</span><span class="p">(</span><span class="n">ax12</span><span class="p">)</span>
    <span class="n">barB_SL</span><span class="o">=</span><span class="n">ax12</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN</span><span class="p">[</span><span class="n">barBzgCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;H SL&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dashdot&#39;</span><span class="p">)</span>
    <span class="n">barB_RL</span><span class="o">=</span><span class="n">ax12</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">barBzgCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;H RL&#39;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dashdot&#39;</span><span class="p">)</span>

    <span class="c1">#M</span>
    <span class="c1">#ax2 = ax0.twinx()</span>
    <span class="c1">#fyM(ax2)</span>
    <span class="c1">#QM_SL=ax2.step(dfAGSN[xCol], dfAGSN[QMCol]*dfAGSN[&#39;direction&#39;], color=&#39;orange&#39;, label=&#39;M SL&#39;)</span>
    <span class="c1">#QM_RL=ax2.step(dfAGSNRL[xCol], dfAGSNRL[QMCol]*dfAGSNRL[&#39;direction&#39;], color=&#39;cyan&#39;, label=&#39;M RL&#39;,ls=&#39;--&#39;)</span>

    <span class="c1">#T</span>
    <span class="n">ax3</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
    <span class="n">fyT</span><span class="p">(</span><span class="n">ax3</span><span class="p">)</span>
    <span class="n">T_SL</span><span class="o">=</span><span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN</span><span class="p">[</span><span class="n">TCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T SL&#39;</span><span class="p">)</span>
    <span class="n">T_RL</span><span class="o">=</span><span class="n">ax3</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSNRL</span><span class="p">[</span><span class="n">TCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lavender&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;T RL&#39;</span><span class="p">)</span>

    <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">dfAGSN</span><span class="p">[</span><span class="s1">&#39;LSum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="mi">25000</span><span class="p">)</span>

    <span class="n">ax0</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Longitudinal Section for &#39;</span><span class="o">+</span><span class="n">dbFilename</span><span class="p">)</span>

    <span class="c1"># added these three lines</span>
    <span class="n">lns</span> <span class="o">=</span>  <span class="n">PH_SL</span><span class="o">+</span> <span class="n">PH_RL</span><span class="o">+</span> <span class="n">T_SL</span><span class="o">+</span> <span class="n">T_RL</span> <span class="o">+</span> <span class="n">mlc_SL</span><span class="o">+</span> <span class="n">mlc_RL</span> <span class="o">+</span> <span class="n">barB_SL</span><span class="o">+</span> <span class="n">barB_RL</span>
    <span class="n">labs</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lns</span><span class="p">]</span>
    <span class="n">ax0</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lns</span><span class="p">,</span> <span class="n">labs</span><span class="p">)</span><span class="c1">#, loc=0)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_Result_ls</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_20_0.png" src="_images/Example5_20_0.png" />
</div>
</div>
</section>
</section>
<section id="Show-Network-Graph">
<h1>Show Network Graph<a class="headerlink" href="#Show-Network-Graph" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">netNodes</span><span class="o">=</span><span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">data</span><span class="p">)</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;ID_CONT&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;IDPARENT_CONT&#39;</span><span class="p">]]</span> <span class="c1"># nur das Netz</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GNet</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">G</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">netNodes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">number_connected_components</span><span class="p">(</span><span class="n">GNet</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">GNet</span><span class="p">,</span><span class="n">with_labels</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span><span class="n">node_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">pos</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">nodeposDctNx</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_25_0.png" src="_images/Example5_25_0.png" />
</div>
</div>
</section>
<section id="Decomposition-into-Areas">
<h1>Decomposition into Areas<a class="headerlink" href="#Decomposition-into-Areas" title="Permalink to this heading"></a></h1>
<p>In the network, areas can be separated by valves in the sense of an emergency concept. In this way, leaks can be isolated while maintaining supply in the other areas. All seperating valves are located in the SIR 3S Block “TS”. So the network graph without the content of “TS” must be decomposed into areas.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">netEdgesWithoutTS</span><span class="o">=</span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">data</span> <span class="ow">in</span> <span class="n">GNet</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;NAME_CONT&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;TS&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GNetWithoutTS</span><span class="o">=</span><span class="n">GNet</span><span class="o">.</span><span class="n">edge_subgraph</span><span class="p">(</span><span class="n">netEdgesWithoutTS</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nOfCC</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">number_connected_components</span><span class="p">(</span><span class="n">GNetWithoutTS</span><span class="p">)</span>
<span class="n">nOfCC</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
25
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GNetWithoutTSAreas</span><span class="o">=</span><span class="p">[</span><span class="n">GNet</span><span class="o">.</span><span class="n">subgraph</span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">connected_components</span><span class="p">(</span><span class="n">GNetWithoutTS</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="nb">len</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</section>
<section id="Read-SirCalc's-XmlFile">
<h1>Read SirCalc’s XmlFile<a class="headerlink" href="#Read-SirCalc's-XmlFile" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xml.etree.ElementTree</span> <span class="k">as</span> <span class="nn">ET</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcXmlFile</span><span class="p">)</span> <span class="c1"># ElementTree</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>  <span class="c1"># Element</span>
</pre></div>
</div>
</div>
</section>
<section id="Loop-over-all-Areas">
<h1>Loop over all Areas<a class="headerlink" href="#Loop-over-all-Areas" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">max_dfAGSN_SL</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">max_dfAGSN_RL</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">min_dfAGSN_SL</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">min_dfAGSN_RL</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">cols_to_track</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PH_n&#39;</span><span class="p">,</span> <span class="s1">&#39;mlc_n&#39;</span><span class="p">,</span> <span class="s1">&#39;T_n&#39;</span><span class="p">]</span>
<span class="n">V3_AGSN_list</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span><span class="n">G</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">GNetWithoutTSAreas</span><span class="p">):</span>

    <span class="c1"># Determine seperating Valves to close</span>
    <span class="n">trennNodes</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;NAME_CONT_VKNO&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;TS&#39;</span><span class="p">:</span>
            <span class="n">trennNodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

    <span class="n">trennNodes</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">trennNodes</span><span class="p">)</span>

    <span class="c1">#print(sorted(G.nodes))</span>

    <span class="k">if</span> <span class="s1">&#39;V-A1&#39;</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gebiet um Erzeuger H - keine Trennung&quot;</span><span class="p">)</span>
        <span class="k">continue</span>

    <span class="k">if</span> <span class="s1">&#39;V-A2&#39;</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gebiet um Erzeuger H - keine Trennung&quot;</span><span class="p">)</span>
        <span class="k">continue</span>

    <span class="k">if</span> <span class="s1">&#39;V-B&#39;</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gebiet um Erzeuger R - keine Trennung&quot;</span><span class="p">)</span>
        <span class="k">continue</span>


    <span class="n">df</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">V3_VBEL</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

    <span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">[</span>
        <span class="p">(</span>
        <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;NAME_i&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">trennNodes</span><span class="p">))</span>
        <span class="o">|</span>
        <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;NAME_k&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">trennNodes</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="o">&amp;</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;OBJTYPE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;VENT&#39;</span><span class="p">])</span>
        <span class="o">&amp;</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;NAME_CONT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">&#39;TS&#39;</span><span class="p">])</span>

    <span class="p">]</span>

    <span class="c1"># Close the Valves in SirCalc&#39;s Xml</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;VENT_BZ&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">el</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;fk&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;OBJID&#39;</span><span class="p">]:</span>
                <span class="n">el</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;INDPHI&#39;</span><span class="p">,</span><span class="s1">&#39;-1&#39;</span><span class="p">)</span>
                <span class="n">BESCHREIBUNG</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;BESCHREIBUNG&#39;</span><span class="p">]</span>
    <span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcXmlFile</span><span class="p">)</span>

    <span class="c1"># Calculate</span>
    <span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcExeFile</span>
                       <span class="p">,</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcXmlFile</span><span class="p">]</span>
                     <span class="p">)</span> <span class="k">as</span> <span class="n">process</span><span class="p">:</span>
        <span class="n">process</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Command </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s1"> exited with </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">returncode</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>

    <span class="c1"># Ergebnis lesen</span>
    <span class="n">mx</span><span class="o">=</span><span class="n">Mx</span><span class="o">.</span><span class="n">Mx</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">mx</span><span class="o">.</span><span class="n">mx1File</span><span class="p">)</span>
    <span class="n">mTmp</span> <span class="o">=</span> <span class="n">dxAndMxHelperFcts</span><span class="o">.</span><span class="n">dxWithMx</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">dx</span><span class="p">,</span><span class="n">mx</span><span class="p">)</span>

    <span class="n">axTitle</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">nOfCC</span><span class="si">}</span><span class="s2">- Exemplarisch die BESCHREIBUNG einer Trennstelle: </span><span class="si">{</span><span class="n">BESCHREIBUNG</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">plot_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">axTitle</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">V3_AGSN_list</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">plot_index</span><span class="p">,</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>

    <span class="c1"># Plot Result as ncd</span>
    <span class="n">plot_Result_ncd</span><span class="p">(</span><span class="n">mTmp</span><span class="o">.</span><span class="n">gdf_ROHR</span><span class="p">,</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">gdf_FWVB</span><span class="p">,</span><span class="n">axTitle</span><span class="o">=</span><span class="n">axTitle</span><span class="p">)</span>

    <span class="c1"># Plot Result as Longitudinal Sections</span>
    <span class="n">plot_Result_ls</span><span class="p">(</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">)</span>

    <span class="c1"># Update the maximum values DataFrames for SL and RL</span>
    <span class="k">if</span> <span class="n">max_dfAGSN_SL</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">max_dfAGSN_SL</span> <span class="o">=</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">max_dfAGSN_RL</span> <span class="o">=</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols_to_track</span><span class="p">:</span>
            <span class="n">max_dfAGSN_SL</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">max_dfAGSN_SL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">max_dfAGSN_SL</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">])</span>
            <span class="n">max_dfAGSN_RL</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">max_dfAGSN_RL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">max_dfAGSN_RL</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="n">col</span><span class="p">])</span>

    <span class="c1"># Update the minimal values DataFrames for SL and RL</span>
    <span class="k">if</span> <span class="n">min_dfAGSN_SL</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">min_dfAGSN_SL</span> <span class="o">=</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">min_dfAGSN_RL</span> <span class="o">=</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols_to_track</span><span class="p">:</span>
            <span class="n">min_dfAGSN_SL</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">min_dfAGSN_SL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">min_dfAGSN_SL</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="n">col</span><span class="p">])</span>
            <span class="n">min_dfAGSN_RL</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">min_dfAGSN_RL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">min_dfAGSN_RL</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="n">mTmp</span><span class="o">.</span><span class="n">V3_AGSN</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="n">col</span><span class="p">])</span>

    <span class="c1"># (Re-)Open the Valves in SirCalc&#39;s Xml</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s1">&#39;VENT_BZ&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">el</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s1">&#39;fk&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;OBJID&#39;</span><span class="p">]:</span>
                <span class="n">el</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;INDPHI&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
                <span class="c1">#print(row[&#39;BESCHREIBUNG&#39;])</span>

    <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
        <span class="k">pass</span>
        <span class="c1">#break</span>

<span class="c1">#NBVAL_IGNORE_OUTPUT</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_3.png" src="_images/Example5_36_3.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_4.png" src="_images/Example5_36_4.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_8.png" src="_images/Example5_36_8.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_9.png" src="_images/Example5_36_9.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_12.png" src="_images/Example5_36_12.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_13.png" src="_images/Example5_36_13.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Gebiet um Erzeuger H - keine Trennung
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_18.png" src="_images/Example5_36_18.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_19.png" src="_images/Example5_36_19.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_23.png" src="_images/Example5_36_23.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_24.png" src="_images/Example5_36_24.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Gebiet um Erzeuger H - keine Trennung
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_29.png" src="_images/Example5_36_29.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_30.png" src="_images/Example5_36_30.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_34.png" src="_images/Example5_36_34.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_35.png" src="_images/Example5_36_35.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_38.png" src="_images/Example5_36_38.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_39.png" src="_images/Example5_36_39.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_43.png" src="_images/Example5_36_43.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_44.png" src="_images/Example5_36_44.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_48.png" src="_images/Example5_36_48.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_49.png" src="_images/Example5_36_49.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_52.png" src="_images/Example5_36_52.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_53.png" src="_images/Example5_36_53.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_57.png" src="_images/Example5_36_57.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_58.png" src="_images/Example5_36_58.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_62.png" src="_images/Example5_36_62.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_63.png" src="_images/Example5_36_63.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_67.png" src="_images/Example5_36_67.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_68.png" src="_images/Example5_36_68.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_72.png" src="_images/Example5_36_72.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_73.png" src="_images/Example5_36_73.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Gebiet um Erzeuger R - keine Trennung
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_76.png" src="_images/Example5_36_76.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_77.png" src="_images/Example5_36_77.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_81.png" src="_images/Example5_36_81.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_82.png" src="_images/Example5_36_82.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_86.png" src="_images/Example5_36_86.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_87.png" src="_images/Example5_36_87.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_91.png" src="_images/Example5_36_91.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_92.png" src="_images/Example5_36_92.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_96.png" src="_images/Example5_36_96.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_97.png" src="_images/Example5_36_97.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_101.png" src="_images/Example5_36_101.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_102.png" src="_images/Example5_36_102.png" />
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; Mx.setResultsToMxsFile: Mxs: ..\Examples\WDExample5\B1\V0\BZ1\M-1-0-1.1.MXS reading ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO    ; dxWithMx.__init__: Example5: processing dx and mx ...
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_106.png" src="_images/Example5_36_106.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/Example5_36_107.png" src="_images/Example5_36_107.png" />
</div>
</div>
</section>
<section id="Min/Max">
<h1>Min/Max<a class="headerlink" href="#Min/Max" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_Result_ls_min_max</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">,</span> <span class="n">dfAGSN2</span><span class="p">):</span>
    <span class="n">PHCol</span> <span class="o">=</span> <span class="s1">&#39;PH_n&#39;</span>
    <span class="n">mlcCol</span> <span class="o">=</span> <span class="s1">&#39;mlc_n&#39;</span>
    <span class="n">zKoorCol</span> <span class="o">=</span> <span class="s1">&#39;ZKOR_n&#39;</span>
    <span class="n">barBzgCol</span> <span class="o">=</span> <span class="s1">&#39;H_n&#39;</span>
    <span class="n">QMCol</span> <span class="o">=</span> <span class="s1">&#39;QM&#39;</span>
    <span class="n">TCol</span> <span class="o">=</span> <span class="s1">&#39;T_n&#39;</span>
    <span class="n">xCol</span> <span class="o">=</span> <span class="s1">&#39;LSum&#39;</span>

    <span class="c1"># Convert columns to numeric, forcing errors to NaN</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="n">PHCol</span><span class="p">,</span> <span class="n">mlcCol</span><span class="p">,</span> <span class="n">barBzgCol</span><span class="p">,</span> <span class="n">TCol</span><span class="p">,</span> <span class="n">xCol</span><span class="p">]:</span>
        <span class="n">dfAGSN1</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
        <span class="n">dfAGSN2</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

    <span class="c1"># Create checkboxes for each value pair</span>
    <span class="n">PH_SL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;PH SL&#39;</span><span class="p">)</span>
    <span class="n">PH_RL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;PH RL&#39;</span><span class="p">)</span>
    <span class="n">mlc_SL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;mlc SL&#39;</span><span class="p">)</span>
    <span class="n">mlc_RL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;mlc RL&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_plot</span><span class="p">(</span><span class="n">PH_SL</span><span class="p">,</span> <span class="n">PH_RL</span><span class="p">,</span> <span class="n">mlc_SL</span><span class="p">,</span> <span class="n">mlc_RL</span><span class="p">):</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">ax0</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">Rm</span><span class="o">.</span><span class="n">DINA3q</span><span class="p">)</span>
        <span class="n">ax0</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

        <span class="n">lns</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Process dfAGSN1</span>
        <span class="n">name_prefix1</span> <span class="o">=</span> <span class="n">dfAGSN1</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dfAGSN1_SL</span> <span class="o">=</span> <span class="n">dfAGSN1</span><span class="p">[(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dfAGSN1_RL</span> <span class="o">=</span> <span class="n">dfAGSN1</span><span class="p">[(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="c1"># Process dfAGSN2</span>
        <span class="n">name_prefix2</span> <span class="o">=</span> <span class="n">dfAGSN2</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dfAGSN2_SL</span> <span class="o">=</span> <span class="n">dfAGSN2</span><span class="p">[(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dfAGSN2_RL</span> <span class="o">=</span> <span class="n">dfAGSN2</span><span class="p">[(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="c1"># Create a dictionary to store axes</span>
        <span class="n">axes_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Function to get or create an axis</span>
        <span class="k">def</span> <span class="nf">get_or_create_axis</span><span class="p">(</span><span class="n">ax_key</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ax_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_dict</span><span class="p">:</span>
                <span class="n">axes_dict</span><span class="p">[</span><span class="n">ax_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">axes_dict</span><span class="p">[</span><span class="n">ax_key</span><span class="p">]</span>

        <span class="c1"># PH SL</span>
        <span class="k">if</span> <span class="n">PH_SL</span><span class="p">:</span>
            <span class="n">fyPH</span><span class="p">(</span><span class="n">ax0</span><span class="p">)</span>
            <span class="n">PH_SL1</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> PH SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
            <span class="n">PH_SL2</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">PH_SL1</span> <span class="o">+</span> <span class="n">PH_SL2</span>
            <span class="n">ax0</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_PH_SL</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_PH_SL</span>

        <span class="c1"># PH RL</span>
        <span class="k">if</span> <span class="n">PH_RL</span><span class="p">:</span>
            <span class="n">fyPH</span><span class="p">(</span><span class="n">ax0</span><span class="p">)</span>
            <span class="n">PH_RL1</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> PH RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
            <span class="n">PH_RL2</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">PH_RL1</span> <span class="o">+</span> <span class="n">PH_RL2</span>
            <span class="n">ax0</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_PH_RL</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_PH_RL</span>

        <span class="c1"># mlc SL</span>
        <span class="k">if</span> <span class="n">mlc_SL</span><span class="p">:</span>
            <span class="n">ax11</span> <span class="o">=</span> <span class="n">get_or_create_axis</span><span class="p">(</span><span class="s1">&#39;mlc&#39;</span><span class="p">)</span>
            <span class="n">fymlc</span><span class="p">(</span><span class="n">ax11</span><span class="p">)</span>
            <span class="n">mlc_SL1</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> mlc SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="n">mlc_SL2</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">mlc_SL1</span> <span class="o">+</span> <span class="n">mlc_SL2</span>
            <span class="n">ax11</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_mlc_SL</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_mlc_SL</span>

        <span class="c1"># mlc RL</span>
        <span class="k">if</span> <span class="n">mlc_RL</span><span class="p">:</span>
            <span class="n">ax11</span> <span class="o">=</span> <span class="n">get_or_create_axis</span><span class="p">(</span><span class="s1">&#39;mlc&#39;</span><span class="p">)</span>
            <span class="n">fymlc</span><span class="p">(</span><span class="n">ax11</span><span class="p">)</span>
            <span class="n">mlc_RL1</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> mlc RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="n">mlc_RL2</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">mlc_RL1</span> <span class="o">+</span> <span class="n">mlc_RL2</span>
            <span class="n">ax11</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_mlc_RL</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_mlc_RL</span>

        <span class="n">labs</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lns</span><span class="p">]</span>

        <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;LSum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="mi">25000</span><span class="p">)</span>

        <span class="n">ax0</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lns</span><span class="p">,</span> <span class="n">labs</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Create interactive plot</span>
    <span class="n">interactive_plot</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">update_plot</span><span class="p">,</span>
                                           <span class="n">PH_SL</span><span class="o">=</span><span class="n">PH_SL_checkbox</span><span class="p">,</span>
                                           <span class="n">PH_RL</span><span class="o">=</span><span class="n">PH_RL_checkbox</span><span class="p">,</span>
                                           <span class="n">mlc_SL</span><span class="o">=</span><span class="n">mlc_SL_checkbox</span><span class="p">,</span>
                                           <span class="n">mlc_RL</span><span class="o">=</span><span class="n">mlc_RL_checkbox</span><span class="p">,)</span>

    <span class="n">display</span><span class="p">(</span><span class="n">interactive_plot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">max_dfAGSN_SL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">max_dfAGSN_RL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">max_dfAGSN</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">max_dfAGSN_SL</span><span class="p">,</span> <span class="n">max_dfAGSN_RL</span><span class="p">])</span>

<span class="n">min_dfAGSN_SL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">min_dfAGSN_RL</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">min_dfAGSN</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">min_dfAGSN_SL</span><span class="p">,</span> <span class="n">min_dfAGSN_RL</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">min_dfAGSN</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;min&#39;</span>
<span class="n">max_dfAGSN</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;max&#39;</span>
<span class="n">dfAGSN_list</span><span class="o">=</span><span class="p">(</span><span class="n">min_dfAGSN</span><span class="p">,</span> <span class="n">max_dfAGSN</span><span class="p">)</span>
<span class="n">plot_Result_ls_min_max</span><span class="p">(</span><span class="n">max_dfAGSN</span><span class="p">,</span> <span class="n">min_dfAGSN</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "cf016e37dacb4c5c84d7a60a54134694", "version_major": 2, "version_minor": 0}</script></div>
</div>
The depiction of the interactive Widget plot does not work in the documentation, because a python kernel must run it. A screenshot of the interacitve plot is provided below. To interact with the plot, download and run the script.<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\Users\jablonski\3S\PT3S\Examples\Images\5_example5_minmaxplot.png&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;png not displayed&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
png not displayed
</pre></div></div>
</div>
</section>
<section id="Difference">
<h1>Difference<a class="headerlink" href="#Difference" title="Permalink to this heading"></a></h1>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_Result_ls_comparison</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">,</span> <span class="n">dfAGSN2</span><span class="p">):</span>
    <span class="n">PHCol</span> <span class="o">=</span> <span class="s1">&#39;PH_n&#39;</span>
    <span class="n">mlcCol</span> <span class="o">=</span> <span class="s1">&#39;mlc_n&#39;</span>
    <span class="n">zKoorCol</span> <span class="o">=</span> <span class="s1">&#39;ZKOR_n&#39;</span>
    <span class="n">barBzgCol</span> <span class="o">=</span> <span class="s1">&#39;H_n&#39;</span>
    <span class="n">QMCol</span> <span class="o">=</span> <span class="s1">&#39;QM&#39;</span>
    <span class="n">TCol</span> <span class="o">=</span> <span class="s1">&#39;T_n&#39;</span>
    <span class="n">xCol</span> <span class="o">=</span> <span class="s1">&#39;LSum&#39;</span>

    <span class="c1"># Convert columns to numeric, forcing errors to NaN</span>
    <span class="n">dfAGSN1</span><span class="p">[</span><span class="n">PHCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN1</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN1</span><span class="p">[</span><span class="n">barBzgCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="n">barBzgCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN1</span><span class="p">[</span><span class="n">TCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="n">TCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN1</span><span class="p">[</span><span class="n">xCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

    <span class="n">dfAGSN2</span><span class="p">[</span><span class="n">PHCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN2</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN2</span><span class="p">[</span><span class="n">barBzgCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="n">barBzgCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN2</span><span class="p">[</span><span class="n">TCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="n">TCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">dfAGSN2</span><span class="p">[</span><span class="n">xCol</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

    <span class="c1"># Create checkboxes for each value pair</span>
    <span class="n">PH_SL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;PH SL&#39;</span><span class="p">)</span>
    <span class="n">PH_RL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;PH RL&#39;</span><span class="p">)</span>
    <span class="n">mlc_SL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;mlc SL&#39;</span><span class="p">)</span>
    <span class="n">mlc_RL_checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;mlc RL&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_plot</span><span class="p">(</span><span class="n">PH_SL</span><span class="p">,</span> <span class="n">PH_RL</span><span class="p">,</span> <span class="n">mlc_SL</span><span class="p">,</span> <span class="n">mlc_RL</span><span class="p">):</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">ax0</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">Rm</span><span class="o">.</span><span class="n">DINA3q</span><span class="p">)</span>
        <span class="n">ax0</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

        <span class="n">lns</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Process dfAGSN1</span>
        <span class="n">name_prefix1</span> <span class="o">=</span> <span class="n">dfAGSN1</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dfAGSN1_SL</span> <span class="o">=</span> <span class="n">dfAGSN1</span><span class="p">[(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dfAGSN1_RL</span> <span class="o">=</span> <span class="n">dfAGSN1</span><span class="p">[(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="c1"># Process dfAGSN2</span>
        <span class="n">name_prefix2</span> <span class="o">=</span> <span class="n">dfAGSN2</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">dfAGSN2_SL</span> <span class="o">=</span> <span class="n">dfAGSN2</span><span class="p">[(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="n">dfAGSN2_RL</span> <span class="o">=</span> <span class="n">dfAGSN2</span><span class="p">[(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;LFDNR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfAGSN2</span><span class="p">[</span><span class="s1">&#39;XL&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)]</span>

        <span class="c1"># Create a dictionary to store axes</span>
        <span class="n">axes_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Function to get or create an axis</span>
        <span class="k">def</span> <span class="nf">get_or_create_axis</span><span class="p">(</span><span class="n">ax_key</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">ax_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">axes_dict</span><span class="p">:</span>
                <span class="n">axes_dict</span><span class="p">[</span><span class="n">ax_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">axes_dict</span><span class="p">[</span><span class="n">ax_key</span><span class="p">]</span>

        <span class="c1"># PH SL</span>
        <span class="k">if</span> <span class="n">PH_SL</span><span class="p">:</span>
            <span class="n">fyPH_d</span><span class="p">(</span><span class="n">ax0</span><span class="p">)</span>
            <span class="n">PH_SL1</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> PH SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
            <span class="n">PH_SL2</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">PH_SL1</span> <span class="o">+</span> <span class="n">PH_SL2</span>
            <span class="n">ax0</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_PH_SL</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_PH_SL</span>

        <span class="c1"># PH RL</span>
        <span class="k">if</span> <span class="n">PH_RL</span><span class="p">:</span>
            <span class="n">fyPH_d</span><span class="p">(</span><span class="n">ax0</span><span class="p">)</span>
            <span class="n">PH_RL1</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> PH RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
            <span class="n">PH_RL2</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">PH_RL1</span> <span class="o">+</span> <span class="n">PH_RL2</span>
            <span class="n">ax0</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_PH_RL</span> <span class="o">=</span> <span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">PHCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> PH RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_PH_RL</span>

        <span class="c1"># mlc SL</span>
        <span class="k">if</span> <span class="n">mlc_SL</span><span class="p">:</span>
            <span class="n">ax11</span> <span class="o">=</span> <span class="n">get_or_create_axis</span><span class="p">(</span><span class="s1">&#39;mlc&#39;</span><span class="p">)</span>
            <span class="n">fymlc</span><span class="p">(</span><span class="n">ax11</span><span class="p">)</span>
            <span class="n">mlc_SL1</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> mlc SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="n">mlc_SL2</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">mlc_SL1</span> <span class="o">+</span> <span class="n">mlc_SL2</span>
            <span class="n">ax11</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_mlc_SL</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_SL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc SL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_mlc_SL</span>

        <span class="c1"># mlc RL</span>
        <span class="k">if</span> <span class="n">mlc_RL</span><span class="p">:</span>
            <span class="n">ax11</span> <span class="o">=</span> <span class="n">get_or_create_axis</span><span class="p">(</span><span class="s1">&#39;mlc&#39;</span><span class="p">)</span>
            <span class="n">fymlc</span><span class="p">(</span><span class="n">ax11</span><span class="p">)</span>
            <span class="n">mlc_RL1</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> mlc RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="n">mlc_RL2</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">mlc_RL1</span> <span class="o">+</span> <span class="n">mlc_RL2</span>
            <span class="n">ax11</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="n">diff_mlc_RL</span> <span class="o">=</span> <span class="n">ax11</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">xCol</span><span class="p">],</span> <span class="n">dfAGSN1_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">]</span> <span class="o">-</span> <span class="n">dfAGSN2_RL</span><span class="p">[</span><span class="n">mlcCol</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Diff </span><span class="si">{</span><span class="n">name_prefix1</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">name_prefix2</span><span class="si">}</span><span class="s1"> mlc RL&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
            <span class="n">lns</span> <span class="o">+=</span> <span class="n">diff_mlc_RL</span>

        <span class="n">labs</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lns</span><span class="p">]</span>

        <span class="n">ax0</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">dfAGSN1</span><span class="p">[</span><span class="s1">&#39;LSum&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="mi">25000</span><span class="p">)</span>

        <span class="n">ax0</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lns</span><span class="p">,</span> <span class="n">labs</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="c1"># Create interactive plot</span>
    <span class="n">interactive_plot</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">update_plot</span><span class="p">,</span>
                                           <span class="n">PH_SL</span><span class="o">=</span><span class="n">PH_SL_checkbox</span><span class="p">,</span>
                                           <span class="n">PH_RL</span><span class="o">=</span><span class="n">PH_RL_checkbox</span><span class="p">,</span>
                                           <span class="n">mlc_SL</span><span class="o">=</span><span class="n">mlc_SL_checkbox</span><span class="p">,</span>
                                           <span class="n">mlc_RL</span><span class="o">=</span><span class="n">mlc_RL_checkbox</span><span class="p">,)</span>

    <span class="n">display</span><span class="p">(</span><span class="n">interactive_plot</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Indexing issue - to be fixed (JAB 01/11)</span>
<span class="n">V3_AGSN_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;1&#39;</span>
<span class="n">V3_AGSN_list</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;20&#39;</span>
<span class="n">plot_Result_ls_comparison</span><span class="p">(</span><span class="n">V3_AGSN_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">V3_AGSN_list</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "16921146d776412eb2d4420e1c8fca40", "version_major": 2, "version_minor": 0}</script></div>
</div>
The depiction of the interactive Widget plot does not work in the documentation, because a python kernel must run it. A screenshot of the interacitve plot is provided below. To interact with the plot, download and run the script.<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;C:\Users\jablonski\3S\PT3S\Examples\Images\6_example5_differenceplot.png&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;png not displayed&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
png not displayed
</pre></div></div>
</div>
</section>
<section id="Recalculate-initial-condition">
<h1>Recalculate initial condition<a class="headerlink" href="#Recalculate-initial-condition" title="Permalink to this heading"></a></h1>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># (Re-)Calculate initial condition</span>
<span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcXmlFile</span><span class="p">)</span>
<span class="c1"># Calculate</span>
<span class="k">with</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcExeFile</span>
                       <span class="p">,</span><span class="n">m</span><span class="o">.</span><span class="n">SirCalcXmlFile</span><span class="p">]</span>
                     <span class="p">)</span> <span class="k">as</span> <span class="n">process</span><span class="p">:</span>
        <span class="n">process</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Command </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s1"> exited with </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">returncode</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
<span class="c1">#NBVAL_IGNORE_OUTPUT</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Command [&#39;C:\\\\3S\\Sir3s\\SirCalc-90-14-02-10_Potsdam\\SirCalc.exe&#39;, &#39;c:\\users\\wolters\\3s\\pt3s\\Examples\\WDExample5\\B1\\V0\\BZ1\\M-1-0-1.XML&#39;] exited with 0.
</pre></div></div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1986-2024, 3S Consult GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>